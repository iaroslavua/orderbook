(this.webpackJsonporderbook=this.webpackJsonporderbook||[]).push([[0],{12:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(10),o=n.n(r),c=(n(17),n(11)),l=n(2),s=n(3),u=n(1),m=n(5),h=n(4),b=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={minLotSize:Number(50)},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,"Minimum lot size: ",i.a.createElement("input",{size:5,value:this.state.minLotSize,onChange:function(t){return e.setState({minLotSize:t.target.value})}})),i.a.createElement("div",{className:"order-book"},i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",null,"Price"),i.a.createElement("th",null,"Amount"))),i.a.createElement("tbody",null,this.props.bids.filter((function(t){return Number(t[1])>=e.state.minLotSize})).slice(0,30).map((function(e,t){return i.a.createElement("tr",{key:t},i.a.createElement("td",null,t),i.a.createElement("td",null,Number(e[0]).toPrecision(6)),i.a.createElement("td",null,Number(e[1]).toPrecision(3)))})))),i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",null,"Price"),i.a.createElement("th",null,"Amount"))),i.a.createElement("tbody",null,this.props.asks.filter((function(t){return Number(t[1])>=e.state.minLotSize})).slice(0,30).map((function(e,t){return i.a.createElement("tr",{key:t},i.a.createElement("td",null,t),i.a.createElement("td",null,Number(e[0]).toPrecision(6)),i.a.createElement("td",null,Number(e[1]).toPrecision(3)))}))))))}}]),n}(i.a.Component),d=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={ticker:e.ticker?e.ticker:"BTCUSDT",bids:[],asks:[]},a.onTickerChange=a.onTickerChange.bind(Object(u.a)(a)),a.onKeyDown=a.onKeyDown.bind(Object(u.a)(a)),a.subscribeForOrderBook=a.subscribeForOrderBook.bind(Object(u.a)(a)),a.onEventMessageReceived=a.onEventMessageReceived.bind(Object(u.a)(a)),a}return Object(s.a)(n,[{key:"subscribeForOrderBook",value:function(){this.evtSource&&this.evtSource.close(),this.evtSource=new EventSource("/order-book/binance/".concat(this.state.ticker)),this.evtSource.onmessage=this.onEventMessageReceived}},{key:"onEventMessageReceived",value:function(e){var t=JSON.parse(e.data);this.setState({bids:t.bids,asks:t.asks})}},{key:"componentDidMount",value:function(){this.subscribeForOrderBook()}},{key:"componentWillUnmount",value:function(){this.evtSource.close()}},{key:"onTickerChange",value:function(e){this.setState({ticker:e.target.value})}},{key:"onKeyDown",value:function(e){13===e.keyCode&&this.subscribeForOrderBook()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"exchange"},i.a.createElement("div",{style:{width:"100%","text-align":"end"}},i.a.createElement("span",{className:"button-close",onClick:function(){return e.props.onClose(e.props.id)}},"+")),i.a.createElement("div",{className:"exchange-title"},"Binance"),i.a.createElement("input",{className:"ticker",size:20,value:this.state.ticker,onChange:this.onTickerChange,onKeyDown:this.onKeyDown}),i.a.createElement(b,{bids:this.state.bids,asks:this.state.asks}))}}]),n}(i.a.Component),g=n(8);function v(e){var t=i.a.useState("BTCUSDT"),n=Object(g.a)(t,2),a=n[0],r=n[1],o=i.a.useState("binance"),c=Object(g.a)(o,2),l=c[0],s=c[1];return i.a.createElement("div",{className:"dialog-background",onClick:e.onDismiss},i.a.createElement("div",{className:"dialog",onClick:function(e){return e.stopPropagation()}},i.a.createElement("input",{value:a,onChange:function(e){return r(e.target.value)}}),i.a.createElement("form",null,i.a.createElement("label",null,"Exchange:",i.a.createElement("select",{value:l,onChange:function(e){return s(e.target.value)}},i.a.createElement("option",{value:"binance"},"Binance")))),i.a.createElement("input",{type:"button",value:"Ok",onClick:function(){return e.onSubmit(l,a)}})))}n(18);var E=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={isDialog:!1,exchanges:[{id:0,exchange:"binance",ticker:"BTCUSDT"}]},a.onDismissDialog=a.onDismissDialog.bind(Object(u.a)(a)),a.onSubmitExchange=a.onSubmitExchange.bind(Object(u.a)(a)),a.onCloseExchange=a.onCloseExchange.bind(Object(u.a)(a)),a}return Object(s.a)(n,[{key:"onDismissDialog",value:function(){this.setState({isDialog:!1})}},{key:"onSubmitExchange",value:function(e,t){this.setState((function(n){return{isDialog:!1,exchanges:[].concat(Object(c.a)(n.exchanges),[{id:n.exchanges.length,exchange:e,ticker:t}])}}))}},{key:"onCloseExchange",value:function(e){this.setState((function(t){return{exchanges:t.exchanges.filter((function(t){return t.id!==e}))}}))}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,this.state.isDialog&&i.a.createElement(v,{onDismiss:this.onDismissDialog,onSubmit:this.onSubmitExchange}),this.state.exchanges.map((function(t,n){return t.exchange,i.a.createElement(d,{key:t.id,id:t.id,ticker:t.ticker,onClose:e.onCloseExchange})})),i.a.createElement("div",{id:"button-add-exchange",onClick:function(){return e.setState({isDialog:!0})}},"+"))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.564a3179.chunk.js.map